<h1>Create Movement</h1>
<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <table class="table">
        <tr>
          <td><b>Name:</b></td>
          <td><%= @product.name %></td>
        </tr>
        <tr>
          <td><b>Reference:</b></td>
          <td><%= @product.reference %></td>
        </tr>
      </table>
    </div>
  </div>
</div>

<div class="row mt-4">
  <div class="col-lg-12">
    <div class="card p-5">
      <%= form_with model: @movement, url: create_movement_product_path(@product) do |f| %>
        <% if @movement.errors.any? %>
          <div class="alert alert-danger">
            <h3><%= flash[:notice] %></h3>
            <ul>
              <% @movement.errors.full_messages.each do |message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div class="form-group">
          <%= f.label :movement_type, "Type of movement:" %>
          <%= f.select :movement_type, options_for_select(Movement.get_movement_types), {}, { class: "form-control" } %>
        </div>

        <div class="form-group">
          <%= f.label :quantity, "Quantity:" %>
          <%= f.number_field :quantity, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.label :comment, "Comments:" %>
          <%= f.text_area :comment, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.submit class: "btn btn-primary" %>
          <%= link_to "Cancel", product_path(@product), class: "btn btn-danger" %>
        </div>
      <% end %>
    </div>
  </div>
</div>